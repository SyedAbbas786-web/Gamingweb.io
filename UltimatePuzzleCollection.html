<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ultimate Puzzle Collection | 12 Games in One</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        /* Reset & Base */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            /* Light Theme */
            --light-primary: #4361ee;
            --light-secondary: #3a0ca3;
            --light-accent: #f72585;
            --light-success: #4cc9f0;
            --light-warning: #f8961e;
            --light-bg: #f8f9fa;
            --light-card: #ffffff;
            --light-text: #212529;
            --light-text-secondary: #6c757d;
            --light-border: #dee2e6;
            --light-shadow: 0 8px 30px rgba(0, 0, 0, 0.08);
            
            /* Dark Theme */
            --dark-primary: #4361ee;
            --dark-secondary: #3a0ca3;
            --dark-accent: #f72585;
            --dark-success: #4cc9f0;
            --dark-warning: #f8961e;
            --dark-bg: #121212;
            --dark-card: #1e1e1e;
            --dark-text: #ffffff;
            --dark-text-secondary: #adb5bd;
            --dark-border: #2d2d2d;
            --dark-shadow: 0 8px 30px rgba(0, 0, 0, 0.3);
        }

        body {
            font-family: 'Poppins', sans-serif;
            background-color: var(--bg);
            color: var(--text);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 20px;
            transition: all 0.3s ease;
        }

        body.light-theme {
            --primary: var(--light-primary);
            --secondary: var(--light-secondary);
            --accent: var(--light-accent);
            --success: var(--light-success);
            --warning: var(--light-warning);
            --bg: var(--light-bg);
            --card: var(--light-card);
            --text: var(--light-text);
            --text-secondary: var(--light-text-secondary);
            --border: var(--light-border);
            --shadow: var(--light-shadow);
        }

        body.dark-theme {
            --primary: var(--dark-primary);
            --secondary: var(--dark-secondary);
            --accent: var(--dark-accent);
            --success: var(--dark-success);
            --warning: var(--dark-warning);
            --bg: var(--dark-bg);
            --card: var(--dark-card);
            --text: var(--dark-text);
            --text-secondary: var(--dark-text-secondary);
            --border: var(--dark-border);
            --shadow: var(--dark-shadow);
        }

        .container {
            width: 100%;
            max-width: 1400px;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        /* Header */
        .header {
            text-align: center;
            margin-bottom: 30px;
            width: 100%;
        }

        .title {
            font-size: 3.5rem;
            font-weight: 700;
            background: linear-gradient(90deg, var(--primary), var(--accent));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            margin-bottom: 10px;
        }

        .subtitle {
            font-size: 1.1rem;
            color: var(--text-secondary);
            max-width: 800px;
            margin: 0 auto 20px;
        }

        /* Theme Toggle */
        .theme-toggle {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
        }

        .theme-btn {
            background: var(--card);
            border: 2px solid var(--border);
            border-radius: 50px;
            padding: 10px 20px;
            font-size: 1rem;
            font-weight: 600;
            color: var(--text);
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 10px;
            box-shadow: var(--shadow);
        }

        .theme-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        }

        /* Main Container */
        .main-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            width: 100%;
            min-height: 70vh;
        }

        /* Menu Section */
        .menu-section {
            background: var(--card);
            border-radius: 20px;
            padding: 40px;
            box-shadow: var(--shadow);
            border: 1px solid var(--border);
            width: 100%;
            text-align: center;
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .menu-title {
            font-size: 2rem;
            font-weight: 600;
            color: var(--text);
            margin-bottom: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
        }

        .menu-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
        }

        .menu-card {
            background: var(--bg);
            border-radius: 15px;
            padding: 25px;
            border: 2px solid var(--border);
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 15px;
            min-height: 200px;
            justify-content: center;
        }

        .menu-card:hover {
            transform: translateY(-5px);
            border-color: var(--primary);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.1);
        }

        .menu-card i {
            font-size: 3rem;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }

        .menu-card h3 {
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--text);
        }

        .menu-card p {
            font-size: 0.9rem;
            color: var(--text-secondary);
            text-align: center;
        }

        .difficulty-badge {
            display: inline-block;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 600;
            margin-top: 5px;
        }

        .easy { background: rgba(76, 201, 240, 0.2); color: var(--success); }
        .medium { background: rgba(248, 150, 30, 0.2); color: var(--warning); }
        .hard { background: rgba(247, 37, 133, 0.2); color: var(--accent); }

        /* Game Container */
        .game-container {
            background: var(--card);
            border-radius: 20px;
            padding: 30px;
            box-shadow: var(--shadow);
            border: 1px solid var(--border);
            width: 100%;
            display: none;
            animation: fadeIn 0.5s ease;
        }

        .game-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid var(--border);
            flex-wrap: wrap;
            gap: 15px;
        }

        .game-title {
            font-size: 1.8rem;
            font-weight: 600;
            color: var(--text);
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .game-stats {
            display: flex;
            gap: 20px;
            align-items: center;
        }

        .stat-box {
            background: var(--bg);
            padding: 10px 20px;
            border-radius: 10px;
            border: 2px solid var(--border);
            text-align: center;
            min-width: 120px;
        }

        .stat-label {
            font-size: 0.85rem;
            color: var(--text-secondary);
            margin-bottom: 5px;
        }

        .stat-value {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--text);
        }

        /* Game Specific Layouts */
        .game-content {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 30px;
        }

        .game-board {
            display: grid;
            gap: 5px;
            margin: 0 auto;
            background: var(--bg);
            padding: 15px;
            border-radius: 15px;
            border: 2px solid var(--border);
        }

        .tile {
            background: var(--card);
            border: 2px solid var(--border);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.2s ease;
            user-select: none;
        }

        .tile:hover:not(.empty):not(.matched) {
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .empty {
            background: transparent;
            border-color: transparent;
            cursor: default;
        }

        .matched {
            background: rgba(76, 201, 240, 0.2);
            border-color: var(--success);
        }

        .selected {
            background: rgba(67, 97, 238, 0.2);
            border-color: var(--primary);
        }

        .correct {
            background: rgba(76, 201, 240, 0.2);
            border-color: var(--success);
        }

        .wrong {
            background: rgba(247, 37, 133, 0.2);
            border-color: var(--accent);
        }

        /* Sudoku Grid */
        .sudoku-grid {
            grid-template-columns: repeat(9, 1fr);
            grid-template-rows: repeat(9, 1fr);
            max-width: 500px;
        }

        .sudoku-cell {
            aspect-ratio: 1;
            font-size: 1.5rem;
        }

        .sudoku-cell:nth-child(3n) {
            border-right: 3px solid var(--border);
        }

        .sudoku-cell:nth-child(n+19):nth-child(-n+27),
        .sudoku-cell:nth-child(n+46):nth-child(-n+54) {
            border-bottom: 3px solid var(--border);
        }

        /* Memory Grid */
        .memory-grid {
            grid-template-columns: repeat(4, 1fr);
            grid-template-rows: repeat(4, 1fr);
            max-width: 500px;
        }

        .memory-card {
            aspect-ratio: 1;
            font-size: 2rem;
            perspective: 1000px;
        }

        .memory-card-inner {
            position: relative;
            width: 100%;
            height: 100%;
            transform-style: preserve-3d;
            transition: transform 0.6s;
        }

        .memory-card.flipped .memory-card-inner {
            transform: rotateY(180deg);
        }

        .memory-card-front,
        .memory-card-back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .memory-card-front {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
        }

        .memory-card-back {
            background: var(--card);
            color: var(--text);
            transform: rotateY(180deg);
            font-size: 1.5rem;
        }

        /* Controls */
        .controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 30px;
            flex-wrap: wrap;
        }

        .btn {
            padding: 12px 25px;
            border: none;
            border-radius: 10px;
            font-family: 'Poppins', sans-serif;
            font-weight: 600;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 10px;
            color: white;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
        }

        .btn-secondary {
            background: var(--text-secondary);
        }

        .btn-success {
            background: linear-gradient(135deg, var(--success), #2a9d8f);
        }

        .btn-danger {
            background: linear-gradient(135deg, var(--accent), #b5179e);
        }

        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
        }

        /* Instructions */
        .instructions {
            background: var(--bg);
            border-radius: 15px;
            padding: 20px;
            border: 2px solid var(--border);
            margin-top: 20px;
            max-width: 800px;
            display: none;
        }

        .instructions h3 {
            color: var(--text);
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .instructions p {
            color: var(--text-secondary);
            line-height: 1.6;
        }

        /* Overlay */
        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(5px);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 2000;
            animation: fadeIn 0.3s ease;
        }

        .overlay-content {
            background: var(--card);
            border-radius: 20px;
            padding: 50px;
            max-width: 500px;
            width: 90%;
            text-align: center;
            animation: slideUp 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            border: 1px solid var(--border);
            box-shadow: var(--shadow);
        }

        @keyframes slideUp {
            from { transform: translateY(50px) scale(0.9); opacity: 0; }
            to { transform: translateY(0) scale(1); opacity: 1; }
        }

        .overlay h2 {
            font-size: 2.5rem;
            margin-bottom: 20px;
            background: linear-gradient(90deg, var(--primary), var(--accent));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }

        .overlay p {
            font-size: 1.2rem;
            margin-bottom: 30px;
            color: var(--text);
        }

        /* Word Search */
        .wordsearch-grid {
            grid-template-columns: repeat(10, 1fr);
            grid-template-rows: repeat(10, 1fr);
            max-width: 500px;
        }

        .wordsearch-cell {
            aspect-ratio: 1;
            font-size: 1.2rem;
            font-weight: 600;
        }

        /* Flow Grid */
        .flow-grid {
            grid-template-columns: repeat(6, 1fr);
            grid-template-rows: repeat(6, 1fr);
            max-width: 450px;
        }

        .flow-cell {
            aspect-ratio: 1;
        }

        /* Jigsaw Container */
        .jigsaw-container {
            position: relative;
            width: 500px;
            height: 400px;
            border: 2px solid var(--border);
            border-radius: 10px;
            overflow: hidden;
        }

        .jigsaw-piece {
            position: absolute;
            border: 2px solid var(--border);
            cursor: move;
            background-size: cover;
        }

        /* Settings Panel */
        .settings-panel {
            background: var(--card);
            border-radius: 20px;
            padding: 30px;
            box-shadow: var(--shadow);
            border: 1px solid var(--border);
            width: 100%;
            max-width: 800px;
            display: none;
            animation: fadeIn 0.5s ease;
        }

        .settings-title {
            font-size: 2rem;
            font-weight: 600;
            color: var(--text);
            margin-bottom: 30px;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .settings-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
        }

        .setting-card {
            background: var(--bg);
            border-radius: 15px;
            padding: 25px;
            border: 2px solid var(--border);
        }

        .setting-card h3 {
            font-size: 1.3rem;
            font-weight: 600;
            color: var(--text);
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .option-list {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .option-btn {
            padding: 15px;
            background: var(--card);
            border: 2px solid var(--border);
            border-radius: 10px;
            color: var(--text);
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: left;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .option-btn:hover {
            border-color: var(--primary);
            transform: translateX(5px);
        }

        .option-btn.active {
            border-color: var(--primary);
            background: rgba(67, 97, 238, 0.1);
        }

        /* Word List */
        .word-list {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            justify-content: center;
            margin-top: 20px;
        }

        .word-item {
            padding: 8px 16px;
            background: var(--bg);
            border: 2px solid var(--border);
            border-radius: 20px;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .word-item.found {
            background: rgba(76, 201, 240, 0.2);
            border-color: var(--success);
            color: var(--success);
            text-decoration: line-through;
        }

        /* Nonogram Grid */
        .nonogram-grid {
            grid-template-columns: repeat(10, 1fr);
            grid-template-rows: repeat(10, 1fr);
            max-width: 400px;
        }

        .nonogram-cell {
            aspect-ratio: 1;
        }

        .nonogram-cell.filled {
            background: var(--text);
        }

        /* Responsive */
        @media (max-width: 768px) {
            .title {
                font-size: 2.5rem;
            }
            
            .menu-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .game-header {
                flex-direction: column;
                align-items: center;
                text-align: center;
            }
            
            .controls {
                flex-direction: column;
                width: 100%;
            }
            
            .btn {
                width: 100%;
                justify-content: center;
            }
        }

        @media (max-width: 480px) {
            .title {
                font-size: 2rem;
            }
            
            .menu-grid {
                grid-template-columns: 1fr;
            }
            
            .menu-section,
            .game-container {
                padding: 20px;
            }
            
            .stat-box {
                min-width: 100px;
            }
        }
    </style>
</head>
<body class="dark-theme">
    <div class="container">
        <!-- Theme Toggle -->
        <div class="theme-toggle">
            <button class="theme-btn" id="themeToggle">
                <i class="fas fa-moon"></i> Dark Mode
            </button>
        </div>

        <!-- Header -->
        <header class="header">
            <h1 class="title">Ultimate Puzzle Collection</h1>
            <p class="subtitle">12 addictive puzzle games in one beautiful package. Challenge your brain and have fun!</p>
        </header>

        <!-- Main Container -->
        <div class="main-container">
            <!-- Main Menu -->
            <section class="menu-section" id="mainMenu">
                <div class="menu-title">
                    <i class="fas fa-gamepad"></i> Select a Puzzle Game
                </div>
                <div class="menu-grid">
                    <!-- Puzzle 1 -->
                    <div class="menu-card" data-game="sliding">
                        <i class="fas fa-th"></i>
                        <h3>Sliding Tile Puzzle</h3>
                        <p>Arrange tiles to complete the picture</p>
                        <span class="difficulty-badge medium">Medium</span>
                    </div>

                    <!-- Puzzle 2 -->
                    <div class="menu-card" data-game="match3">
                        <i class="fas fa-gem"></i>
                        <h3>Match-3 Puzzle</h3>
                        <p>Connect three or more identical items</p>
                        <span class="difficulty-badge easy">Easy</span>
                    </div>

                    <!-- Puzzle 3 -->
                    <div class="menu-card" data-game="jigsaw">
                        <i class="fas fa-puzzle-piece"></i>
                        <h3>Jigsaw Puzzle</h3>
                        <p>Drag and drop pieces to complete image</p>
                        <span class="difficulty-badge medium">Medium</span>
                    </div>

                    <!-- Puzzle 4 -->
                    <div class="menu-card" data-game="wordsearch">
                        <i class="fas fa-search"></i>
                        <h3>Word Search</h3>
                        <p>Find hidden words in the grid</p>
                        <span class="difficulty-badge easy">Easy</span>
                    </div>

                    <!-- Puzzle 5 -->
                    <div class="menu-card" data-game="sudoku">
                        <i class="fas fa-table"></i>
                        <h3>Sudoku</h3>
                        <p>Fill the grid with numbers 1-9</p>
                        <span class="difficulty-badge hard">Hard</span>
                    </div>

                    <!-- Puzzle 6 -->
                    <div class="menu-card" data-game="memory">
                        <i class="fas fa-brain"></i>
                        <h3>Memory Game</h3>
                        <p>Find matching pairs of cards</p>
                        <span class="difficulty-badge easy">Easy</span>
                    </div>

                    <!-- Puzzle 7 -->
                    <div class="menu-card" data-game="nonogram">
                        <i class="fas fa-drafting-compass"></i>
                        <h3>Nonogram</h3>
                        <p>Fill cells based on number clues</p>
                        <span class="difficulty-badge hard">Hard</span>
                    </div>

                    <!-- Puzzle 8 -->
                    <div class="menu-card" data-game="tangram">
                        <i class="fas fa-shapes"></i>
                        <h3>Tangram</h3>
                        <p>Arrange shapes to match silhouette</p>
                        <span class="difficulty-badge medium">Medium</span>
                    </div>

                    <!-- Puzzle 9 -->
                    <div class="menu-card" data-game="flow">
                        <i class="fas fa-project-diagram"></i>
                        <h3>Flow Free</h3>
                        <p>Connect matching colors with pipes</p>
                        <span class="difficulty-badge medium">Medium</span>
                    </div>

                    <!-- Puzzle 10 -->
                    <div class="menu-card" data-game="game2048">
                        <i class="fas fa-sort-numeric-up"></i>
                        <h3>2048</h3>
                        <p>Slide and combine tiles to reach 2048</p>
                        <span class="difficulty-badge hard">Hard</span>
                    </div>

                    <!-- Puzzle 11 -->
                    <div class="menu-card" data-game="crossword">
                        <i class="fas fa-font"></i>
                        <h3>Crossword</h3>
                        <p>Fill words based on clues</p>
                        <span class="difficulty-badge medium">Medium</span>
                    </div>

                    <!-- Puzzle 12 -->
                    <div class="menu-card" data-game="lightsout">
                        <i class="fas fa-lightbulb"></i>
                        <h3>Lights Out</h3>
                        <p>Turn off all the lights in the grid</p>
                        <span class="difficulty-badge medium">Medium</span>
                    </div>
                </div>

                <div class="controls">
                    <button class="btn btn-secondary" id="howToPlay">
                        <i class="fas fa-question-circle"></i> How to Play
                    </button>
                    <button class="btn btn-primary" id="openSettings">
                        <i class="fas fa-cog"></i> Settings
                    </button>
                </div>
            </section>

            <!-- Game Container (Dynamic) -->
            <section class="game-container" id="gameContainer">
                <div class="game-header">
                    <div class="game-title">
                        <i class="fas fa-gamepad"></i>
                        <span id="currentGameTitle">Game Title</span>
                    </div>
                    <div class="game-stats">
                        <div class="stat-box">
                            <div class="stat-label">Time</div>
                            <div class="stat-value" id="timer">00:00</div>
                        </div>
                        <div class="stat-box">
                            <div class="stat-label">Moves</div>
                            <div class="stat-value" id="moveCount">0</div>
                        </div>
                        <div class="stat-box">
                            <div class="stat-label">Score</div>
                            <div class="stat-value" id="score">0</div>
                        </div>
                    </div>
                </div>

                <div class="game-content">
                    <div class="game-board" id="gameBoard">
                        <!-- Game board will be generated dynamically -->
                    </div>

                    <div class="instructions" id="instructions">
                        <h3><i class="fas fa-info-circle"></i> How to Play</h3>
                        <p id="instructionsText">Game instructions will appear here.</p>
                    </div>

                    <div class="controls">
                        <button class="btn btn-primary" id="newGame">
                            <i class="fas fa-redo"></i> New Game
                        </button>
                        <button class="btn btn-success" id="hint">
                            <i class="fas fa-lightbulb"></i> Hint
                        </button>
                        <button class="btn btn-secondary" id="showInstructions">
                            <i class="fas fa-question-circle"></i> Instructions
                        </button>
                        <button class="btn btn-danger" id="backToMenu">
                            <i class="fas fa-home"></i> Main Menu
                        </button>
                    </div>
                </div>
            </section>

            <!-- Settings Panel -->
            <section class="settings-panel" id="settingsPanel">
                <div class="settings-title">
                    <i class="fas fa-cog"></i> Game Settings
                </div>
                <div class="settings-grid">
                    <div class="setting-card">
                        <h3><i class="fas fa-palette"></i> Appearance</h3>
                        <div class="option-list">
                            <button class="option-btn active" id="themeDark">
                                <i class="fas fa-moon"></i> Dark Theme
                            </button>
                            <button class="option-btn" id="themeLight">
                                <i class="fas fa-sun"></i> Light Theme
                            </button>
                        </div>
                    </div>
                    
                    <div class="setting-card">
                        <h3><i class="fas fa-volume-up"></i> Sound & Effects</h3>
                        <div class="option-list">
                            <button class="option-btn active" id="soundOn">
                                <i class="fas fa-volume-up"></i> Sound On
                            </button>
                            <button class="option-btn" id="soundOff">
                                <i class="fas fa-volume-mute"></i> Sound Off
                            </button>
                            <button class="option-btn active" id="animationsOn">
                                <i class="fas fa-play-circle"></i> Animations On
                            </button>
                            <button class="option-btn" id="animationsOff">
                                <i class="fas fa-stop-circle"></i> Animations Off
                            </button>
                        </div>
                    </div>
                    
                    <div class="setting-card">
                        <h3><i class="fas fa-robot"></i> AI Difficulty</h3>
                        <div class="option-list">
                            <button class="option-btn active" id="aiEasy">
                                <i class="fas fa-smile"></i> Easy
                            </button>
                            <button class="option-btn" id="aiMedium">
                                <i class="fas fa-meh"></i> Medium
                            </button>
                            <button class="option-btn" id="aiHard">
                                <i class="fas fa-frown"></i> Hard
                            </button>
                        </div>
                    </div>
                </div>
                <div class="controls">
                    <button class="btn btn-primary" id="saveSettings">
                        <i class="fas fa-save"></i> Save Settings
                    </button>
                    <button class="btn btn-secondary" id="cancelSettings">
                        <i class="fas fa-times"></i> Cancel
                    </button>
                </div>
            </section>
        </div>
    </div>

    <!-- Game Over Overlay -->
    <div class="overlay" id="gameOverlay">
        <div class="overlay-content">
            <h2 id="overlayTitle">Congratulations!</h2>
            <p id="overlayMessage">You completed the puzzle!</p>
            <div class="controls">
                <button class="btn btn-primary" id="playAgain">
                    <i class="fas fa-play"></i> Play Again
                </button>
                <button class="btn btn-secondary" id="overlayMenu">
                    <i class="fas fa-home"></i> Main Menu
                </button>
            </div>
        </div>
    </div>

    <script>
        // Global Game State
        const gameState = {
            currentGame: null,
            timer: 0,
            timerInterval: null,
            moves: 0,
            score: 0,
            gameActive: false,
            soundEnabled: true,
            animationsEnabled: true,
            theme: 'dark',
            difficulty: 'medium',
            gameData: {
                sliding: { bestTime: 0, bestMoves: 0, completed: 0 },
                match3: { bestScore: 0, completed: 0 },
                jigsaw: { bestTime: 0, completed: 0 },
                wordsearch: { bestTime: 0, completed: 0 },
                sudoku: { bestTime: 0, completed: 0 },
                memory: { bestTime: 0, bestMoves: 0, completed: 0 },
                nonogram: { bestTime: 0, completed: 0 },
                tangram: { bestTime: 0, completed: 0 },
                flow: { bestTime: 0, completed: 0 },
                game2048: { bestScore: 0, completed: 0 },
                crossword: { bestTime: 0, completed: 0 },
                lightsout: { bestTime: 0, bestMoves: 0, completed: 0 }
            }
        };

        // Game Instructions
        const gameInstructions = {
            sliding: "Slide the tiles to arrange them in numerical order from 1 to 15 with the empty space in the bottom right. Click on a tile adjacent to the empty space to move it.",
            match3: "Swap adjacent gems to create rows or columns of three or more matching gems. The more gems you match, the higher your score!",
            jigsaw: "Drag and drop the puzzle pieces to complete the image. Pieces will snap into place when close to their correct position.",
            wordsearch: "Find all the hidden words in the grid. Words can be horizontal, vertical, or diagonal. Click and drag to select letters.",
            sudoku: "Fill the grid so that each row, column, and 3x3 box contains all digits from 1 to 9. Use the number buttons or keyboard to input numbers.",
            memory: "Flip cards to find matching pairs. Remember the positions of cards you've seen to match them efficiently.",
            nonogram: "Fill cells based on the number clues on the sides. Each number represents a group of consecutive filled cells.",
            tangram: "Arrange the geometric pieces to match the silhouette. Drag pieces and use the rotate buttons to position them correctly.",
            flow: "Connect matching colored dots with pipes without crossing other pipes. Fill the entire grid to complete the level.",
            game2048: "Slide tiles in any direction. When two tiles with the same number touch, they merge into one with their sum. Reach 2048!",
            crossword: "Fill in the crossword grid based on the clues. Click on a clue to select the corresponding cells.",
            lightsout: "Click on a light to toggle it and adjacent lights. Turn off all lights to win the game."
        };

        // DOM Elements
        const mainMenu = document.getElementById('mainMenu');
        const gameContainer = document.getElementById('gameContainer');
        const settingsPanel = document.getElementById('settingsPanel');
        const gameBoard = document.getElementById('gameBoard');
        const currentGameTitle = document.getElementById('currentGameTitle');
        const timerElement = document.getElementById('timer');
        const moveCountElement = document.getElementById('moveCount');
        const scoreElement = document.getElementById('score');
        const instructions = document.getElementById('instructions');
        const instructionsText = document.getElementById('instructionsText');
        const gameOverlay = document.getElementById('gameOverlay');
        const overlayTitle = document.getElementById('overlayTitle');
        const overlayMessage = document.getElementById('overlayMessage');
        const themeToggle = document.getElementById('themeToggle');

        // Initialize
        function init() {
            setupEventListeners();
            loadFromLocalStorage();
            updateTheme();
            createMenuCards();
        }

        // Setup Event Listeners
        function setupEventListeners() {
            // Menu buttons
            document.querySelectorAll('.menu-card').forEach(card => {
                card.addEventListener('click', function() {
                    const game = this.dataset.game;
                    startGame(game);
                });
            });

            document.getElementById('howToPlay').addEventListener('click', showHowToPlay);
            document.getElementById('openSettings').addEventListener('click', showSettings);
            document.getElementById('backToMenu').addEventListener('click', showMainMenu);
            
            // Game controls
            document.getElementById('newGame').addEventListener('click', startNewGame);
            document.getElementById('hint').addEventListener('click', showHint);
            document.getElementById('showInstructions').addEventListener('click', toggleInstructions);
            
            // Overlay
            document.getElementById('playAgain').addEventListener('click', () => {
                gameOverlay.style.display = 'none';
                startNewGame();
            });
            
            document.getElementById('overlayMenu').addEventListener('click', () => {
                gameOverlay.style.display = 'none';
                showMainMenu();
            });
            
            // Theme toggle
            themeToggle.addEventListener('click', toggleTheme);
            
            // Settings
            document.getElementById('saveSettings').addEventListener('click', saveSettings);
            document.getElementById('cancelSettings').addEventListener('click', showMainMenu);
            
            // Theme buttons
            document.getElementById('themeDark').addEventListener('click', () => setTheme('dark'));
            document.getElementById('themeLight').addEventListener('click', () => setTheme('light'));
            
            // Sound buttons
            document.getElementById('soundOn').addEventListener('click', () => {
                gameState.soundEnabled = true;
                updateOptionButtons('sound');
            });
            document.getElementById('soundOff').addEventListener('click', () => {
                gameState.soundEnabled = false;
                updateOptionButtons('sound');
            });
            
            // Animation buttons
            document.getElementById('animationsOn').addEventListener('click', () => {
                gameState.animationsEnabled = true;
                updateOptionButtons('animations');
            });
            document.getElementById('animationsOff').addEventListener('click', () => {
                gameState.animationsEnabled = false;
                updateOptionButtons('animations');
            });
            
            // Difficulty buttons
            document.getElementById('aiEasy').addEventListener('click', () => {
                gameState.difficulty = 'easy';
                updateOptionButtons('difficulty');
            });
            document.getElementById('aiMedium').addEventListener('click', () => {
                gameState.difficulty = 'medium';
                updateOptionButtons('difficulty');
            });
            document.getElementById('aiHard').addEventListener('click', () => {
                gameState.difficulty = 'hard';
                updateOptionButtons('difficulty');
            });
        }

        // Create Menu Cards with Progress
        function createMenuCards() {
            document.querySelectorAll('.menu-card').forEach(card => {
                const game = card.dataset.game;
                const data = gameState.gameData[game];
                if (data.completed > 0) {
                    const progress = document.createElement('div');
                    progress.style.cssText = `
                        position: absolute;
                        top: 10px;
                        right: 10px;
                        background: rgba(76, 201, 240, 0.2);
                        color: var(--success);
                        padding: 3px 8px;
                        border-radius: 10px;
                        font-size: 0.75rem;
                        font-weight: 600;
                    `;
                    progress.textContent = `${data.completed}Ã—`;
                    card.style.position = 'relative';
                    card.appendChild(progress);
                }
            });
        }

        // Start Game
        function startGame(gameType) {
            gameState.currentGame = gameType;
            currentGameTitle.textContent = gameType.charAt(0).toUpperCase() + gameType.slice(1);
            instructionsText.textContent = gameInstructions[gameType];
            
            hideAllSections();
            gameContainer.style.display = 'block';
            
            startNewGame();
        }

        // Start New Game
        function startNewGame() {
            resetGameStats();
            clearGameBoard();
            initializeGame();
            startTimer();
            gameState.gameActive = true;
        }

        // Reset Game Stats
        function resetGameStats() {
            gameState.timer = 0;
            gameState.moves = 0;
            gameState.score = 0;
            updateStatsUI();
        }

        // Update Stats UI
        function updateStatsUI() {
            timerElement.textContent = formatTime(gameState.timer);
            moveCountElement.textContent = gameState.moves;
            scoreElement.textContent = gameState.score;
        }

        // Format Time
        function formatTime(seconds) {
            const mins = Math.floor(seconds / 60);
            const secs = seconds % 60;
            return `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
        }

        // Start Timer
        function startTimer() {
            clearInterval(gameState.timerInterval);
            gameState.timerInterval = setInterval(() => {
                if (gameState.gameActive) {
                    gameState.timer++;
                    updateStatsUI();
                }
            }, 1000);
        }

        // Initialize Game (Template)
        function initializeGame() {
            switch(gameState.currentGame) {
                case 'sliding':
                    initializeSlidingPuzzle();
                    break;
                case 'match3':
                    initializeMatch3();
                    break;
                case 'memory':
                    initializeMemoryGame();
                    break;
                case 'sudoku':
                    initializeSudoku();
                    break;
                case 'wordsearch':
                    initializeWordSearch();
                    break;
                case 'nonogram':
                    initializeNonogram();
                    break;
                default:
                    initializeDemoGame();
            }
        }

        // Demo Game Implementation (Sliding Puzzle)
        function initializeSlidingPuzzle() {
            gameBoard.className = 'game-board sliding-grid';
            gameBoard.style.gridTemplateColumns = 'repeat(4, 1fr)';
            gameBoard.style.gridTemplateRows = 'repeat(4, 1fr)';
            gameBoard.style.maxWidth = '400px';
            gameBoard.innerHTML = '';
            
            const numbers = Array.from({length: 15}, (_, i) => i + 1);
            numbers.push(null); // Empty space
            
            // Shuffle numbers
            for (let i = numbers.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [numbers[i], numbers[j]] = [numbers[j], numbers[i]];
            }
            
            numbers.forEach((num, index) => {
                const tile = document.createElement('div');
                tile.className = num ? 'tile' : 'tile empty';
                tile.textContent = num;
                tile.dataset.value = num;
                tile.dataset.index = index;
                
                if (num) {
                    tile.addEventListener('click', () => handleSlidingTileClick(index));
                }
                
                gameBoard.appendChild(tile);
            });
        }

        function handleSlidingTileClick(index) {
            if (!gameState.gameActive) return;
            
            const tiles = Array.from(gameBoard.children);
            const emptyIndex = tiles.findIndex(tile => tile.classList.contains('empty'));
            
            // Check if clicked tile is adjacent to empty space
            const row = Math.floor(index / 4);
            const col = index % 4;
            const emptyRow = Math.floor(emptyIndex / 4);
            const emptyCol = emptyIndex % 4;
            
            if ((Math.abs(row - emptyRow) === 1 && col === emptyCol) ||
                (Math.abs(col - emptyCol) === 1 && row === emptyRow)) {
                
                // Swap tiles
                const temp = tiles[index].textContent;
                tiles[index].textContent = '';
                tiles[index].className = 'tile empty';
                tiles[emptyIndex].textContent = temp;
                tiles[emptyIndex].className = 'tile';
                
                // Add click event to new empty tile
                tiles[index].addEventListener('click', () => handleSlidingTileClick(index));
                tiles[emptyIndex].onclick = null;
                
                gameState.moves++;
                updateStatsUI();
                checkSlidingPuzzleWin();
            }
        }

        function checkSlidingPuzzleWin() {
            const tiles = Array.from(gameBoard.children);
            const values = tiles.map(tile => tile.textContent);
            
            // Check if numbers are in order (1-15 with empty at end)
            for (let i = 0; i < 15; i++) {
                if (values[i] !== (i + 1).toString()) return;
            }
            
            if (values[15] === '') {
                gameWon();
            }
        }

        // Memory Game Implementation
        function initializeMemoryGame() {
            gameBoard.className = 'game-board memory-grid';
            gameBoard.style.gridTemplateColumns = 'repeat(4, 1fr)';
            gameBoard.style.gridTemplateRows = 'repeat(4, 1fr)';
            gameBoard.style.maxWidth = '500px';
            gameBoard.innerHTML = '';
            
            const symbols = ['â­', 'ðŸŒŸ', 'ðŸŒ™', 'â˜€ï¸', 'ðŸŒˆ', 'âš¡', 'ðŸ’Ž', 'ðŸŽ¯'];
            const cards = [...symbols, ...symbols];
            
            // Shuffle cards
            for (let i = cards.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [cards[i], cards[j]] = [cards[j], cards[i]];
            }
            
            let flippedCards = [];
            let matchedPairs = 0;
            
            cards.forEach((symbol, index) => {
                const card = document.createElement('div');
                card.className = 'tile memory-card';
                card.dataset.symbol = symbol;
                card.dataset.index = index;
                
                const inner = document.createElement('div');
                inner.className = 'memory-card-inner';
                
                const front = document.createElement('div');
                front.className = 'memory-card-front';
                front.innerHTML = '<i class="fas fa-question"></i>';
                
                const back = document.createElement('div');
                back.className = 'memory-card-back';
                back.textContent = symbol;
                
                inner.appendChild(front);
                inner.appendChild(back);
                card.appendChild(inner);
                
                card.addEventListener('click', () => {
                    if (!gameState.gameActive || card.classList.contains('flipped') || flippedCards.length >= 2) return;
                    
                    card.classList.add('flipped');
                    flippedCards.push({card, symbol});
                    
                    if (flippedCards.length === 2) {
                        gameState.moves++;
                        updateStatsUI();
                        
                        const [card1, card2] = flippedCards;
                        if (card1.symbol === card2.symbol) {
                            // Match found
                            setTimeout(() => {
                                card1.card.classList.add('matched');
                                card2.card.classList.add('matched');
                                flippedCards = [];
                                matchedPairs++;
                                
                                if (matchedPairs === symbols.length) {
                                    gameWon();
                                }
                            }, 500);
                        } else {
                            // No match
                            setTimeout(() => {
                                card1.card.classList.remove('flipped');
                                card2.card.classList.remove('flipped');
                                flippedCards = [];
                            }, 1000);
                        }
                    }
                });
                
                gameBoard.appendChild(card);
            });
        }

        // Sudoku Implementation
        function initializeSudoku() {
            gameBoard.className = 'game-board sudoku-grid';
            gameBoard.innerHTML = '';
            
            // Create empty 9x9 grid
            for (let i = 0; i < 81; i++) {
                const cell = document.createElement('div');
                cell.className = 'tile sudoku-cell';
                cell.dataset.row = Math.floor(i / 9);
                cell.dataset.col = i % 9;
                cell.contentEditable = true;
                
                cell.addEventListener('input', (e) => {
                    const value = e.target.textContent;
                    if (value && !/^[1-9]$/.test(value)) {
                        e.target.textContent = '';
                    }
                    gameState.moves++;
                    updateStatsUI();
                });
                
                cell.addEventListener('focus', () => {
                    cell.classList.add('selected');
                });
                
                cell.addEventListener('blur', () => {
                    cell.classList.remove('selected');
                });
                
                gameBoard.appendChild(cell);
            }
            
            // Add some starting numbers (demo)
            const demoNumbers = [
                [0, 0, 0, 2, 6, 0, 7, 0, 1],
                [6, 8, 0, 0, 7, 0, 0, 9, 0],
                [1, 9, 0, 0, 0, 4, 5, 0, 0],
                [8, 2, 0, 1, 0, 0, 0, 4, 0],
                [0, 0, 4, 6, 0, 2, 9, 0, 0],
                [0, 5, 0, 0, 0, 3, 0, 2, 8],
                [0, 0, 9, 3, 0, 0, 0, 7, 4],
                [0, 4, 0, 0, 5, 0, 0, 3, 6],
                [7, 0, 3, 0, 1, 8, 0, 0, 0]
            ];
            
            const cells = gameBoard.children;
            for (let i = 0; i < 81; i++) {
                const row = Math.floor(i / 9);
                const col = i % 9;
                const value = demoNumbers[row][col];
                if (value !== 0) {
                    cells[i].textContent = value;
                    cells[i].style.color = 'var(--primary)';
                    cells[i].contentEditable = false;
                }
            }
        }

        // Word Search Implementation
        function initializeWordSearch() {
            gameBoard.className = 'game-board wordsearch-grid';
            gameBoard.innerHTML = '';
            
            const words = ['HTML', 'CSS', 'JAVASCRIPT', 'PUZZLE', 'GAME', 'CODE', 'WEB', 'FUN'];
            const grid = Array(10).fill().map(() => Array(10).fill(''));
            
            // Place words in grid
            words.forEach(word => {
                let placed = false;
                while (!placed) {
                    const direction = Math.random() > 0.5 ? 'horizontal' : 'vertical';
                    const startRow = Math.floor(Math.random() * 10);
                    const startCol = Math.floor(Math.random() * 10);
                    
                    if (canPlaceWord(grid, word, startRow, startCol, direction)) {
                        placeWord(grid, word, startRow, startCol, direction);
                        placed = true;
                    }
                }
            });
            
            // Fill remaining cells with random letters
            for (let i = 0; i < 10; i++) {
                for (let j = 0; j < 10; j++) {
                    if (!grid[i][j]) {
                        grid[i][j] = String.fromCharCode(65 + Math.floor(Math.random() * 26));
                    }
                }
            }
            
            // Create grid UI
            let selectedCells = [];
            
            for (let i = 0; i < 100; i++) {
                const row = Math.floor(i / 10);
                const col = i % 10;
                const cell = document.createElement('div');
                cell.className = 'tile wordsearch-cell';
                cell.textContent = grid[row][col];
                cell.dataset.row = row;
                cell.dataset.col = col;
                
                let isSelecting = false;
                
                cell.addEventListener('mousedown', () => {
                    isSelecting = true;
                    selectedCells = [cell];
                    cell.classList.add('selected');
                });
                
                cell.addEventListener('mouseover', () => {
                    if (isSelecting) {
                        cell.classList.add('selected');
                        selectedCells.push(cell);
                    }
                });
                
                cell.addEventListener('mouseup', () => {
                    isSelecting = false;
                    // Check if selected cells form a word
                    const selectedWord = selectedCells.map(c => c.textContent).join('');
                    if (words.includes(selectedWord)) {
                        selectedCells.forEach(c => c.classList.add('matched'));
                        gameState.score += selectedWord.length * 10;
                        updateStatsUI();
                    }
                    selectedCells.forEach(c => c.classList.remove('selected'));
                    selectedCells = [];
                });
                
                gameBoard.appendChild(cell);
            }
        }

        function canPlaceWord(grid, word, row, col, direction) {
            if (direction === 'horizontal') {
                if (col + word.length > 10) return false;
                for (let i = 0; i < word.length; i++) {
                    if (grid[row][col + i] && grid[row][col + i] !== word[i]) return false;
                }
            } else {
                if (row + word.length > 10) return false;
                for (let i = 0; i < word.length; i++) {
                    if (grid[row + i][col] && grid[row + i][col] !== word[i]) return false;
                }
            }
            return true;
        }

        function placeWord(grid, word, row, col, direction) {
            if (direction === 'horizontal') {
                for (let i = 0; i < word.length; i++) {
                    grid[row][col + i] = word[i];
                }
            } else {
                for (let i = 0; i < word.length; i++) {
                    grid[row + i][col] = word[i];
                }
            }
        }

        // Nonogram Implementation
        function initializeNonogram() {
            gameBoard.className = 'game-board nonogram-grid';
            gameBoard.innerHTML = '';
            
            const solution = [
                [1, 1, 0, 0, 0, 0, 0, 0, 0, 0],
                [0, 1, 1, 1, 0, 0, 0, 0, 0, 0],
                [0, 0, 0, 1, 1, 1, 0, 0, 0, 0],
                [0, 0, 0, 0, 0, 1, 1, 1, 0, 0],
                [0, 0, 0, 0, 0, 0, 0, 1, 1, 1],
                [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
                [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
                [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
                [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
                [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
            ];
            
            for (let i = 0; i < 100; i++) {
                const row = Math.floor(i / 10);
                const col = i % 10;
                const cell = document.createElement('div');
                cell.className = 'tile nonogram-cell';
                cell.dataset.row = row;
                cell.dataset.col = col;
                cell.dataset.solution = solution[row][col];
                
                cell.addEventListener('click', () => {
                    if (!gameState.gameActive) return;
                    
                    cell.classList.toggle('filled');
                    gameState.moves++;
                    updateStatsUI();
                    checkNonogramWin();
                });
                
                gameBoard.appendChild(cell);
            }
        }

        function checkNonogramWin() {
            const cells = gameBoard.children;
            let correct = true;
            
            for (let i = 0; i < cells.length; i++) {
                const isFilled = cells[i].classList.contains('filled');
                const shouldBeFilled = cells[i].dataset.solution === '1';
                
                if (isFilled !== shouldBeFilled) {
                    correct = false;
                    break;
                }
            }
            
            if (correct) {
                gameWon();
            }
        }

        // Match-3 Implementation
        function initializeMatch3() {
            gameBoard.className = 'game-board';
            gameBoard.style.gridTemplateColumns = 'repeat(8, 1fr)';
            gameBoard.style.gridTemplateRows = 'repeat(8, 1fr)';
            gameBoard.style.maxWidth = '400px';
            gameBoard.innerHTML = '';
            
            const gems = ['ðŸ’Ž', 'ðŸ”®', 'ðŸŒŸ', 'ðŸ’–', 'âœ¨', 'âš¡'];
            const board = Array(8).fill().map(() => 
                Array(8).fill().map(() => gems[Math.floor(Math.random() * gems.length)])
            );
            
            let selectedGem = null;
            
            function createBoard() {
                gameBoard.innerHTML = '';
                for (let i = 0; i < 64; i++) {
                    const row = Math.floor(i / 8);
                    const col = i % 8;
                    const gem = document.createElement('div');
                    gem.className = 'tile';
                    gem.textContent = board[row][col];
                    gem.dataset.row = row;
                    gem.dataset.col = col;
                    
                    gem.addEventListener('click', () => {
                        if (!gameState.gameActive) return;
                        
                        if (!selectedGem) {
                            selectedGem = gem;
                            gem.classList.add('selected');
                        } else {
                            const row1 = parseInt(selectedGem.dataset.row);
                            const col1 = parseInt(selectedGem.dataset.col);
                            const row2 = parseInt(gem.dataset.row);
                            const col2 = parseInt(gem.dataset.col);
                            
                            // Check if gems are adjacent
                            if ((Math.abs(row1 - row2) === 1 && col1 === col2) ||
                                (Math.abs(col1 - col2) === 1 && row1 === row2)) {
                                
                                // Swap gems
                                [board[row1][col1], board[row2][col2]] = [board[row2][col2], board[row1][col1]];
                                
                                selectedGem.classList.remove('selected');
                                gameState.moves++;
                                updateStatsUI();
                                createBoard();
                            } else {
                                selectedGem.classList.remove('selected');
                                selectedGem = null;
                            }
                        }
                    });
                    
                    gameBoard.appendChild(gem);
                }
            }
            
            createBoard();
        }

        // Demo Game for others
        function initializeDemoGame() {
            gameBoard.innerHTML = `
                <div style="text-align: center; padding: 40px; color: var(--text-secondary);">
                    <i class="fas fa-cogs" style="font-size: 4rem; margin-bottom: 20px; color: var(--primary);"></i>
                    <h3 style="color: var(--text); margin-bottom: 15px;">Game Implementation Coming Soon!</h3>
                    <p>This puzzle game is in development. Try the other games that are already implemented!</p>
                    <div style="margin-top: 30px; display: flex; flex-wrap: wrap; gap: 10px; justify-content: center;">
                        <span style="padding: 8px 16px; background: rgba(76, 201, 240, 0.2); border-radius: 20px; color: var(--success);">
                            <i class="fas fa-check"></i> Sliding Puzzle
                        </span>
                        <span style="padding: 8px 16px; background: rgba(76, 201, 240, 0.2); border-radius: 20px; color: var(--success);">
                            <i class="fas fa-check"></i> Memory Game
                        </span>
                        <span style="padding: 8px 16px; background: rgba(76, 201, 240, 0.2); border-radius: 20px; color: var(--success);">
                            <i class="fas fa-check"></i> Sudoku
                        </span>
                        <span style="padding: 8px 16px; background: rgba(76, 201, 240, 0.2); border-radius: 20px; color: var(--success);">
                            <i class="fas fa-check"></i> Word Search
                        </span>
                        <span style="padding: 8px 16px; background: rgba(76, 201, 240, 0.2); border-radius: 20px; color: var(--success);">
                            <i class="fas fa-check"></i> Nonogram
                        </span>
                        <span style="padding: 8px 16px; background: rgba(76, 201, 240, 0.2); border-radius: 20px; color: var(--success);">
                            <i class="fas fa-check"></i> Match-3
                        </span>
                    </div>
                </div>
            `;
        }

        // Game Won Function
        function gameWon() {
            gameState.gameActive = false;
            clearInterval(gameState.timerInterval);
            
            // Update game data
            const gameData = gameState.gameData[gameState.currentGame];
            gameData.completed++;
            
            // Calculate score
            gameState.score = Math.floor((10000 / (gameState.timer + 1)) + (1000 / (gameState.moves + 1)));
            updateStatsUI();
            
            // Show overlay
            overlayTitle.textContent = 'ðŸŽ‰ Puzzle Complete!';
            overlayMessage.textContent = `Great job! You completed the puzzle in ${gameState.timer} seconds with ${gameState.moves} moves. Score: ${gameState.score}`;
            gameOverlay.style.display = 'flex';
            
            // Save progress
            saveToLocalStorage();
            
            // Update menu cards
            createMenuCards();
        }

        // Show Hint
        function showHint() {
            alert(`Hint for ${gameState.currentGame}: Try focusing on the edges/corners first!`);
            gameState.moves += 5; // Penalty for using hint
            updateStatsUI();
        }

        // Toggle Instructions
        function toggleInstructions() {
            instructions.style.display = instructions.style.display === 'none' ? 'block' : 'none';
        }

        // Clear Game Board
        function clearGameBoard() {
            gameBoard.innerHTML = '';
        }

        // Show Main Menu
        function showMainMenu() {
            hideAllSections();
            mainMenu.style.display = 'block';
            clearInterval(gameState.timerInterval);
            gameState.gameActive = false;
        }

        // Show Settings
        function showSettings() {
            hideAllSections();
            settingsPanel.style.display = 'block';
            updateOptionButtons('sound');
            updateOptionButtons('animations');
            updateOptionButtons('difficulty');
        }

        // Hide All Sections
        function hideAllSections() {
            mainMenu.style.display = 'none';
            gameContainer.style.display = 'none';
            settingsPanel.style.display = 'none';
        }

        // Update Option Buttons
        function updateOptionButtons(type) {
            if (type === 'sound') {
                document.getElementById('soundOn').classList.toggle('active', gameState.soundEnabled);
                document.getElementById('soundOff').classList.toggle('active', !gameState.soundEnabled);
            } else if (type === 'animations') {
                document.getElementById('animationsOn').classList.toggle('active', gameState.animationsEnabled);
                document.getElementById('animationsOff').classList.toggle('active', !gameState.animationsEnabled);
            } else if (type === 'difficulty') {
                document.getElementById('aiEasy').classList.toggle('active', gameState.difficulty === 'easy');
                document.getElementById('aiMedium').classList.toggle('active', gameState.difficulty === 'medium');
                document.getElementById('aiHard').classList.toggle('active', gameState.difficulty === 'hard');
            }
        }

        // Theme Functions
        function toggleTheme() {
            gameState.theme = gameState.theme === 'dark' ? 'light' : 'dark';
            updateTheme();
        }

        function setTheme(theme) {
            gameState.theme = theme;
            updateTheme();
        }

        function updateTheme() {
            document.body.className = `${gameState.theme}-theme`;
            themeToggle.innerHTML = gameState.theme === 'dark' ? 
                '<i class="fas fa-moon"></i> Dark Mode' : 
                '<i class="fas fa-sun"></i> Light Mode';
        }

        // Show How to Play
        function showHowToPlay() {
            alert(`ðŸŽ® ULTIMATE PUZZLE COLLECTION ðŸŽ®\n\nThis collection features 12 different puzzle games:\n\n1. Sliding Tile Puzzle - Arrange tiles in order\n2. Match-3 - Connect matching gems\n3. Jigsaw - Complete the picture\n4. Word Search - Find hidden words\n5. Sudoku - Fill the number grid\n6. Memory Game - Find matching pairs\n7. Nonogram - Solve picture logic puzzles\n8. Tangram - Arrange shapes\n9. Flow Free - Connect colored dots\n10. 2048 - Combine numbered tiles\n11. Crossword - Solve word puzzles\n12. Lights Out - Turn off all lights\n\nâ­ FEATURES â­\nâ€¢ Timer and score tracking\nâ€¢ Multiple difficulty levels\nâ€¢ Dark/Light themes\nâ€¢ Sound and animation options\nâ€¢ Progress saving\n\nðŸŽ¯ TIPS ðŸŽ¯\nâ€¢ Take your time and plan moves\nâ€¢ Use hints when stuck\nâ€¢ Try different strategies\nâ€¢ Complete games to unlock achievements`);
        }

        // Save Settings
        function saveSettings() {
            saveToLocalStorage();
            showMainMenu();
        }

        // Local Storage
        function saveToLocalStorage() {
            localStorage.setItem('puzzleCollectionData', JSON.stringify(gameState));
        }

        function loadFromLocalStorage() {
            try {
                const savedData = JSON.parse(localStorage.getItem('puzzleCollectionData'));
                if (savedData) {
                    Object.assign(gameState, savedData);
                    updateTheme();
                }
            } catch (e) {
                console.log('No saved data found');
            }
        }

        // Initialize the game
        window.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>
